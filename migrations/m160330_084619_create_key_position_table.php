<?php

use yii\db\Migration;

class m160330_084619_create_key_position_table extends Migration
{
    public function up()
    {
        $this->createTable('key_position', [
            'id' => $this->integer(11),
            'key_id' => $this->integer(11)->notNull(),
            'date' => $this->integer(11)->notNull(),
            'time_from_today' => $this->integer(11)->notNull(),
            'position' =>$this->integer(3)->notNull(),
        ]);

        $this->execute("
        INSERT INTO `key_position` (`id`, `key_id`, `date`, `time_from_today`, `position`) VALUES
            (34, 29, 1457827200, 30868, 4),
            (35, 29, 1457913600, 30962, 15),
            (36, 29, 1458000000, 31020, 2),
            (37, 30, 1457827200, 31042, 2),
            (38, 30, 1457913600, 31070, 4),
            (39, 30, 1458000000, 31095, 2),
            (40, 31, 1457827200, 31112, 3),
            (41, 31, 1457913600, 31140, 10),
            (42, 31, 1458000000, 31167, 3),
            (43, 32, 1457827200, 31198, 10),
            (44, 32, 1457913600, 31226, 15),
            (128, 30, 1458172800, 52458, 2),
            (129, 31, 1458172800, 52459, 14),
            (130, 32, 1458172800, 52459, 22),
            (131, 29, 1458172800, 52508, 2),
            (132, 29, 1458518400, 24769, 3),
            (133, 30, 1458518400, 24769, 3),
            (134, 31, 1458518400, 24770, 14),
            (135, 32, 1458518400, 24771, 21),
            (136, 29, 1458518400, 46003, 5),
            (157, 29, 1458604800, 62162, 2),
            (158, 30, 1458604800, 62162, 2),
            (159, 31, 1458604800, 62163, 13),
            (160, 32, 1458604800, 62164, 21),
            (246, 29, 1458777600, 29676, 9),
            (247, 30, 1458777600, 29677, 3),
            (248, 31, 1458777600, 29677, 12),
            (249, 32, 1458777600, 29679, 20),
            (250, 29, 1458777600, 49287, 7),
            (251, 29, 1458864000, 26256, 2),
            (252, 30, 1458864000, 32402, 3),
            (253, 31, 1458864000, 32403, 12),
            (254, 32, 1458864000, 32403, 19),
            (255, 29, 1459123200, 22734, 2),
            (256, 30, 1459123200, 22735, 3),
            (257, 31, 1459123200, 22736, 12),
            (258, 32, 1459123200, 22737, 27),
            (259, 29, 1459209600, 25203, 2),
            (260, 30, 1459209600, 25204, 3),
            (261, 31, 1459209600, 25205, 11),
            (262, 32, 1459209600, 25206, 22),
            (263, 29, 1459296000, 28802, 3),
            (264, 30, 1459296000, 28803, 3),
            (265, 31, 1459296000, 28803, 11),
            (266, 32, 1459296000, 28804, 23),
            (267, 29, 1459382400, 32403, 8),
            (268, 30, 1459382400, 32403, 3),
            (269, 31, 1459382400, 32404, 11),
            (270, 32, 1459382400, 32405, 23),
            (271, 29, 1459468800, 36002, 7),
            (272, 30, 1459468800, 36003, 3),
            (273, 31, 1459468800, 36004, 11),
            (274, 32, 1459468800, 36005, 22),
            (275, 29, 1459728000, 28802, 6),
            (276, 30, 1459728000, 28803, 3),
            (277, 31, 1459728000, 28803, 14),
            (278, 32, 1459728000, 28804, 20),
            (279, 29, 1459814400, 32402, 4),
            (280, 30, 1459814400, 32403, 3),
            (281, 31, 1459814400, 32404, 14),
            (282, 32, 1459814400, 32405, 20),
            (283, 29, 1459900800, 36003, 2),
            (284, 30, 1459900800, 36004, 3),
            (285, 31, 1459900800, 36005, 15),
            (286, 32, 1459900800, 36006, 21),
            (287, 29, 1459987200, 39602, 2),
            (288, 30, 1459987200, 39603, 3),
            (289, 31, 1459987200, 39603, 14),
            (290, 32, 1459987200, 39605, 21),
            (291, 29, 1460073600, 43203, 2),
            (292, 30, 1460073600, 43203, 3),
            (293, 31, 1460073600, 43204, 15),
            (294, 32, 1460073600, 43205, 21),
            (295, 29, 1460332800, 21602, 2),
            (296, 30, 1460332800, 21603, 3),
            (297, 31, 1460332800, 21604, 15),
            (298, 32, 1460332800, 21604, 21),
            (299, 29, 1460419200, 25203, 2),
            (300, 30, 1460419200, 25203, 3),
            (301, 31, 1460419200, 25204, 15),
            (302, 32, 1460419200, 25205, 21),
            (303, 29, 1460505600, 28802, 2),
            (304, 30, 1460505600, 28803, 3),
            (305, 31, 1460505600, 28804, 13),
            (306, 32, 1460505600, 28805, 21),
            (307, 29, 1460592000, 32403, 2),
            (308, 30, 1460592000, 32403, 3),
            (309, 31, 1460592000, 32404, 14),
            (310, 32, 1460592000, 32405, 21),
            (311, 29, 1460678400, 36002, 2),
            (312, 30, 1460678400, 36002, 3),
            (313, 31, 1460678400, 36003, 13),
            (314, 32, 1460678400, 36004, 21),
            (315, 33, 1460678400, 50777, 7),
            (316, 33, 1460678400, 50830, 7),
            (317, 33, 1460678400, 50843, 7),
            (318, 34, 1460678400, 50845, 23),
            (319, 35, 1460678400, 50846, 4),
            (320, 36, 1460678400, 50847, 8),
            (321, 37, 1460678400, 50847, 9),
            (322, 38, 1460678400, 50849, 17),
            (323, 39, 1460678400, 50850, 4),
            (324, 40, 1460678400, 50850, 7),
            (325, 41, 1460678400, 50851, 1),
            (326, 42, 1460678400, 50851, 8),
            (327, 43, 1460678400, 50852, 1),
            (328, 45, 1460678400, 50920, 7),
            (329, 46, 1460678400, 50929, 34),
            (330, 47, 1460678400, 50934, 3),
            (331, 48, 1460678400, 50939, 2),
            (332, 43, 1460678400, 51167, 1),
            (333, 29, 1460937600, 21603, 2),
            (334, 30, 1460937600, 21604, 3),
            (335, 31, 1460937600, 21605, 13),
            (336, 32, 1460937600, 21605, 21),
            (337, 33, 1460937600, 25595, 7),
            (338, 34, 1460937600, 25595, 24),
            (339, 35, 1460937600, 25596, 5),
            (340, 36, 1460937600, 25597, 10),
            (341, 37, 1460937600, 25597, 9),
            (342, 38, 1460937600, 25599, 20),
            (343, 39, 1460937600, 25599, 4),
            (344, 40, 1460937600, 25600, 7),
            (345, 41, 1460937600, 25600, 2),
            (346, 42, 1460937600, 25601, 8),
            (347, 43, 1460937600, 25602, 1),
            (348, 45, 1460937600, 25609, 8),
            (349, 46, 1460937600, 25610, 33),
            (350, 47, 1460937600, 25610, 3),
            (351, 48, 1460937600, 25611, 2),
            (352, 29, 1461024000, 25202, 2),
            (353, 30, 1461024000, 25203, 3),
            (354, 31, 1461024000, 25203, 13),
            (355, 32, 1461024000, 25204, 21),
            (356, 29, 1461024000, 50305, 2),
            (357, 54, 1461024000, 50545, 1),
            (358, 38, 1461628800, 46845, 17),
            (359, 38, 1461628800, 47739, 17);

        ALTER TABLE `key_position`
            ADD PRIMARY KEY (`id`);
        ");
    }

    public function down()
    {
        $this->dropTable('key_position');
    }
}
